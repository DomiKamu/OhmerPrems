**KLOKSPID MKII MODULE SPECIFICATIONS**

This **16HP** versatile clock source, named **KlokSpid MkII**, will be the successor of _2017 KlokSpid_ module, offered by Ohmer (free / open source) plugin. Typically, this module is:

- Totally free, all features are available for everyone, including non-OhmerPrems members!

- "CPU-controlled"-like highly versatile clock generator (standalone), clock modulator (slave mode, when CLK input is patched to another clocking source), including a main touchscreen-like display, plus an info display below the continuous encoder. Can be used as LFO (low-frequency oscillator), optional per-output euclidean rhythms / pitch quantizer (while clock is stopped, idle voltage/pitch may be quantized).

- 8 independent outputs. Please notice by default (when you add a new module instance on your rack), only outputs 1 to 4 are active (all are default & identical setting: 1ms pulse, voltage amplitude set to 10V, voltage offset set to 0V, amplitude above offset, in-phase, x1 as ratio modifier). Outputs 5 to 8 have their LED lit as red, because they're turned off (disabled), in order to save CPU/resources. Of course, any output you'll want can be turned on (depending your needs), via touchscreen **Select Output** menu, then output # clickable box (the selected output becomes "current ouput" for further parameters edits) **(left mouse click on its LED does the same action!)**, then **Modifier** menu item. By using mouse, click left or right arrow located at top-right side of display to select previous/next page (or by using continous encoder and buttons), you can apply any another modifier you want for current output.

- For any output, they're existing special modifiers, named **utility modifiers**, such **GATE** who send a continous +5V / +10V high-state gate while the clock is running (0V when stopped), **START** who send (once) a short 1ms +5V / +10V pulse (trigger) when clock is starting, **STOP** who send (once) a short 1ms +5V / +10V pulse (trigger) when clock is stopped. These utility modifiers may be useful to control external modules. As indicated in previous section, **OFF** modifier simply shutdowns/disable the output - it always deliver 0V, all internal processing for the output are bypassed, for CPU save. Unused output(s) can be turned off if you want, depending your computer performances, and patch complexity. About clocking modules, major usages are 1 to 4 outputs, rarely more, it's the main reason why the extra outputs 5-8 are, natively, disabled!

- 8 inputs: **CLK** is designed to receive pulses (or CV-like voltages) from external source module. When patched (and "CLK" is set as external clock input - its default role setting), the module becomes slave clock (or clock modulator), because the clock frequency/tempo is imposed by external source clock. In case you're using KlokSpid MkII module as standalone/master clock generator in your rack, CLK input can be turned to bipolar -5V/+5V or unipolar 0V/10V **CV1** input. On the same principle, **RUN** input may become bipolar -5V/+5V or unipolar 0V/10V **CV2** input. Native CV3 (by default bipolar -5V/+5V CV input) can be assigned as **RESET** (pulse-based) input, instead, it may be useful to reset/realign all internal phases of the module, sometimes. Finally, they're four extra CV4 to CV8 inputs (default **bipolar -5V/+5V**, optionally **unipolar 0V/10V**). Use **Select Input...** second menu item (from _home_ menu) from touchscreen (or do a left mouse click on its LED), to access a particular input to be configured.

- Output waveform can be either PULSE (default), TRIANGLE (including ramp down and ramp up, via _Tilt_ parameter, who can be CV modulated), SINE (including half sine, and humps), and Sample & Hold (S&H) on first page (of 3). Pages 2 and 3 are dedicated to optional custom wavetables (WAVETABLE 1 - WAVETABLE 4 at second page, WAVETABLE 5 - WAVETABLE 8 at last page). At the moment, wavetable support is in implementation (not yet operational), first support will be **Xfer Serum** wavetable files. _Morph_ parameter (can be modulated by CV) controls the position in table.

- KlokSpid MkII can be controlled either by continuous encoder + **SET** (blue) button + **Cancel/Exit** button _"combo"_ on the module's chassis, and/or by touchscreen... at you convenience! However, some controls (like arrows to select previous/next page, or note rotations in Quantizer setting page) are usable by touchscreen only (encoder/button isn't supported at the moment). The continuous encoder permits to select next or previous selectable "cyan items", such menu items, boxes, checkboxes, buttons, piano keys from Quantizer - **selected item is always highlighted by yellow color, so you cannot miss it ;)** - also can be used to increase/decrease a parameter value (by moving the horizontal slider). **SET** button (the blue button seating over the continuous encoder) permits to validate the selected (yellow) menu/box item, check/uncheck a selected checkbox, activate the parameter slider (parameter edit mode), or entering in the menu system. **Cancel/Exit** button leaves a parameter edit, return to previous menu, cancel BPM edit, cancel slave mode edit, and from home, it disables the menu system (the menu becomes gray, instead of cyan)... Please notice both input and output selection screens (who have eight clickable boxes) don't have a touchscreen control to go back, so please use the **Cancel/Exit** button. Most parameters are immediately validated, even when you click "Cancel/Exit" button (or top-left box, on most pages).

- On displays, colorscheme is mainly: cyan = selectable item (editable item for CLOCK BPM and Ext CLOCK BPM), yellow = current selection/active menu item/selected box/selected checkbox/selected button, editing CLOCK BPM, editing Ext CLOCK mode, parameter currently edited by horizontal slider... Gray = disabled item (locked), depending the context.

- As master clock, possible BPM is from 1 upto 900 (under consideration to increase, by using **frequency in Hz** beyond BPM 900). Can be set by continuous encoder moves + "SET" + "Cancel/Exit" only.

- **HINT**: while modifying the CLOCK BPM (by using the continuous encoder), doing a right mouse click on yellow BPM readout returns immediately to **default BPM 120**. Holding SHIFT key while moving the continuous encoder changes the value very fast. While editing the **CLOCK BPM** (or the **Ext CLK** sync mode, when slave), the parameter is automatically saved after 3-second timeout ((yellow becomes cyan when validated). Auto-validation delay can be changed from **Global Settings** menu (this setting may be 1 second, 3 seconds, or 5 seconds).

- As slave clock, possible **Ext CLK** sync modes are, by received **pulse** trains, by **PPQN** (unfortunately, many unstabilities/jitters are noticed on Windows rigs who are using USB audio interfaces), or by **BPM CV** - compatible behind [ImpromptuModular CLOCKED](https://github.com/MarcBoule/ImpromptuModular), who provide this amazing feature! (merci Marc).

- A lot of pre-built ratios (exactly 86, to be precise), including many **exotic/even/prime/non-integer** and most common dividers and multipliers, from slowest **/16384** (by using this ratio modifier, KlokSpid MkII becomes a extremely slow LFO: at BPM 1, beat will occur every... 11 days, 9 hours, and 4 minutes), upto fastest **x128**. These pre-built ratios can be "picked" - in realtime - by any valid CV source, thanks to **CV Ratio** modifier (from **Modifier** output menu, lastest page). Please consider custom ratios aren't supported by KlokSpid MkII module.

- CV input can be manually set as **bipolar -5V/+5V** (it's the default setting for all CV inputs for this module), or optionally set as **unipolar 0V/10V**, depending your needs, via input on-screen menu (Select Input, choose the relevant input by clicking its box). Also, CV1, CV2, and CV3 can be changed "on-the-fly" via context menu (**INPUT ROLES** section).

- For some parameters who can be modulated by CV, in case of input isn't set-up as CV source, this will be notified as red color on display. As example, if you select "CV1" (indicated as "CLK") to modulate Amplitude parameter, the "CLK" checkbox is red (and the CV indicator at top-right of display indicates **red blinking "Not a CV"** message). Simply set "CLK" role to become "CV1" (either bipolar -5V/+5V, or unipolar 0V/+10V, depending the source and your needs), otherwise use another CV input.

**KlokSpid MkII can't use multiple CV sources to modulate an output-specific parameter.**

- Output voltage supports customizable **Amplitude** setting (minimum 0.2V, maximum 10V, 0.05V stepping), this setting can be modulated by any CV source. An option (via context menu, MISCELLANEOUS section) permits to force the amplitude to 20V (-10V/+10V range) for the current/selected output (other outputs are not affected) - in this case, original settings are kept (but CV modulation is disabled while amplitude is forced to 20V).

- Each output can receive a particular ratio, _'morphable'_ waveform (depending waveform shape, 'morph' have specific alterate name, such _P-Width_ for pulse, _Tilt_ for triangle, _Deform_ for sine, _Density_ for sample & hold, _Attack_ for envelope generators, and _Morph_ for wavetables), voltage amplitude (default 10V, resolution 0.05V), voltage offset (default 0V, resolution +/-0.05V, amplitude can be above offset - default - or spread around offset, by checking/unchecking **Bipolar around offset** option checkbox), phase shift (from -180° to +180° - except S&H doesn't have phase shift, due to random nature of the signal). Except quantizer, all user-defined / default settings may be modulated by any CV source.

- Before output the voltage to relevant jack, it may crosses (bypassable) **euclidean sequencer** (user-defined settings, all can be modulated by CV), then (bypassable) pitch-based **Quantizer** (not CV controllable at the moment, **perhaps** CV8 for notes rotation down/up). Either the clock (transport) is running, or stopped (when the clock is stopped, output may have a voltage other than 0V, depending V-Offset and pitch quantization).

- An option from context menu permits to output the module's master phase to output 8 (ramp up signal shape, 0V to +10V, based on master tempo - clock / slave BPM). May be useful for rack debugging features, time reference in your rack... When you enable this option, the previous output settings are saved, then restored when you disable this option.

- RUN input: when set as **HI-GATE** (default setting), the clock runs while a high gate voltage is applied on RUN input jack. When set as **RUN/STOP**, the input acts as transport toggle, everytime the jack receives a pulse (trigger), at least +0.2V rising front.

- RESET input: when the CV3 input is set as **RESET**, incoming +0.2V (rising front) pulse/gate will reset the main (master) module's phase, also all eight dedicated output phases.

- All embedded LED on module's chassis are RGB.

- **HINT**: Input and output LED are "finger sensitive" (clickable, like momentary buttons), either by left or right mouse button. By left mouse click over LED, the menu system jumps directly to related input configuration (input role and voltage ranges), or to related output setting (base) menu. By doing a right mouse click over LED, this will open a scope to monitor the evolution of input/output voltage (use "Cancel/Exit" button to return and resume to previous situation before scope display.

- Transport (START/STOP button) - LED is **off** when clock is stopped, **green** while clock is running and controlled by button on module's chassis, **cyan** while clock is running and controlled by "RUN" input jack (either via held gate or toggle by incoming pulses), **red** while module is slave, during sync operation against source clocking module (for your information, during sync operation, KlokSpid MkII uses "last known BPM/frequency" during this degraded situation).

- Input LED color scheme: **cyan** for pulse/gate-based inputs (CLK, RUN, and CV3 when set as RESET input). **Gradient green** for CV-compliant voltage (voltage into allowed range). **Red** in case of undervoltage/overvoltage (in this case, the voltage is limited/clipped to allowed boundaries, regardling CV polarity setting). **Yellow** for CLK input only, during slave mode and sync mode set as "BPM CV".

- Output LED color scheme: **red** while output is disabled (its modifier is set to "OFF", explained above). **Gradient green** for regular output usage. **Cyan** for _service voltage_ (modifier is set to an "utility", like GATE, START, or STOP). **Gradient purple** is used on LED 8 only, if output 8 sends the master phase (the PHASE), when this option is enabled from context menu.

- All settings for current output can be copied to another output, by single operation (by using **COPY** menu item from output menu).

- All settings for current output can be erased and restored to "default factory" (other outputs aren't affected), by using **DEFAULT** from output-related menu. BE CAREFUL - **Initialize** command from module's context menu (or Ctrl+I, or Command+I on Mac platforms), or from **Global Settings** menu, will reset the module entirely (full reset), all customizations are lost!

- KlokSpid MkII comes with a little brother, **KX** expander (3HP, left-side module). KX brings discrete CLK, RUN, and RESET pulse/gate-based inputs (like KlokSpid MkII internal can do). But as soon as you place the KX expander along KlokSpid MkII module (left side), internal CLK, RUN and RESET (if applicable) become CV input (all bipolar -5V/+5V), except if these internal inputs was already set as unipolar 0V/+10V. When you disconnect the KX module (by deleting it, or moving it away KlokSpid MkII), the saved settings are immediately restored. Another inputs (bottom of module, below QUANT. label) are **ROT.1** and **ROT.2** inputs. Both can control notes rotations (output-related quantizers). When assigned to a quantizer (or multiple quantizers), by increasing the input voltage (+0.1V steps), the selected notes are moved up (+1 semitone). By decreasing the input voltage (-0.1V steps), all notes are moved down (-1 semitone). However, these voltage variations will be ignored if attached quantizer(s) is/are disabled (aka no enabled note on the piano), or while all notes on the piano are enabled (in this case, note rotation is useless).

- From home menu, **View Assign CV Matrix** displays in a grid how CV are affected, for each output. **Green pill** indicates a valid voltage applied on CV input jack, **red pill** indicates undervoltage/overvoltage, **gray pill** indicates used CV but disconnected jack, and **blinking red square** indicates the input is not set as CV (concerns CLK, RUN, and CV3 inputs only).

- Six models (GUI theme variations) are available, like most Ohmer & OhmerPrems modules: compliant with **Prefer dark panels if available** feature (from **View** menu, since VCV Rack v2.4.0). Possible models are **Aluminium** (it's the default model if _Prefer dark panels if available_ option is disabled), **Stage Repro**, **Absolute Night** (it's the default model if _Prefer dark panels if available_ option is enabled), **Dark "Signature"**, **Fort Knox "Signature"**, and **Titanium "Signature"**.
